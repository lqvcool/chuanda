# 穿衣搭配 - 智能衣橱管理系统

一个基于 Next.js 的智能衣橱管理和穿搭推荐系统，帮助用户管理衣物、获取搭配建议。

## 🌟 功能特性

### ✅ 已实现功能

#### 🔐 用户认证系统
- 用户注册、登录、登出功能
- 密码加密存储
- 会话管理和权限控制

#### 👔 衣物管理
- **衣物上传**：支持图片拖拽上传，格式包括 JPEG、PNG、WebP
- **详细信息**：名称、分类、颜色、品牌、尺寸、季节、标签等属性
- **分类管理**：支持上衣、裤子、裙子、鞋子、帽子、配饰、外套等10个分类
- **搜索筛选**：按分类、季节、关键词搜索衣物
- **编辑删除**：支持修改衣物信息和删除不需要的衣物

#### 🎨 智能搭配推荐
- **智能配色**：基于色彩搭配原理推荐和谐的服装组合
- **场合适配**：支持休闲、正式、商务、运动等不同场合
- **季节考虑**：根据春夏秋冬推荐合适的衣物
- **个性化推荐**：结合用户颜色偏好和标签进行智能匹配
- **搭配理由**：为每个推荐提供详细的搭配解释

#### 📊 数据统计
- 衣物总数统计
- 搭配方案统计
- 穿搭记录追踪

#### 🎯 现代化界面
- 响应式设计，支持手机、平板、电脑
- 现代化UI，使用Tailwind CSS
- 直观的用户交互体验

## 🚀 技术栈

- **前端框架**：Next.js 16 + React 19
- **类型安全**：TypeScript
- **样式框架**：Tailwind CSS 4
- **数据库**：SQLite + Prisma ORM
- **身份认证**：NextAuth.js
- **图片处理**：Sharp
- **数据验证**：Zod
- **文件上传**：本地存储

## 📦 安装和运行

### 环境要求
- Node.js 18+
- npm 或 yarn

### 安装步骤

1. **克隆项目**
```bash
git clone https://github.com/lqvcool/chuanda.git
cd chuanda
```

2. **安装依赖**
```bash
npm install
```

3. **配置环境变量**
```bash
cp .env.example .env
# 编辑 .env 文件，设置必要的环境变量
```

4. **初始化数据库**
```bash
npx prisma generate
npx prisma db push
```

5. **启动开发服务器**
```bash
npm run dev
```

6. **访问应用**
打开浏览器访问 http://localhost:3000

## 📱 使用指南

### 1. 注册账户
- 访问首页，点击"注册新账户"
- 填写姓名、邮箱、密码完成注册
- 使用邮箱和密码登录系统

### 2. 添加衣物
- 登录后进入"我的衣物"页面
- 点击"添加新衣物"按钮
- 上传衣物图片（支持拖拽）
- 填写衣物信息：
  - 衣物名称（必填）
  - 分类（必填）
  - 颜色（必填）
  - 品牌、尺寸（可选）
  - 季节（可选）
  - 标签（可选，用逗号分隔）

### 3. 管理衣物
- 在衣物列表中查看所有已添加的衣物
- 使用筛选器按分类、季节搜索衣物
- 点击"编辑"按钮修改衣物信息
- 点击"删除"按钮移除不需要的衣物

### 4. 获取搭配推荐
- 进入"智能搭配推荐"页面
- 设置筛选条件：
  - 场合（休闲、正式、商务、运动）
  - 季节（春夏秋冬）
  - 颜色偏好
- 点击"生成搭配建议"
- 查看推荐的搭配方案和搭配理由
- 可以保存喜欢的搭配方案

## 🏗️ 项目结构

```
chuanda/
├── app/                          # Next.js App Router
│   ├── api/                      # API 路由
│   │   ├── auth/                 # 认证相关API
│   │   ├── clothings/            # 衣物管理API
│   │   └── outfits/              # 搭配推荐API
│   ├── auth/                     # 认证页面
│   │   ├── signin/               # 登录页
│   │   └── signup/               # 注册页
│   ├── dashboard/                # 主仪表板
│   │   ├── clothings/            # 衣物管理页面
│   │   └── outfits/              # 搭配相关页面
│   ├── globals.css               # 全局样式
│   ├── layout.tsx                # 根布局
│   └── page.tsx                  # 首页
├── components/                   # React 组件
│   ├── providers/                # Context 提供者
│   └── ui/                       # UI 基础组件
├── lib/                          # 工具库
│   ├── auth.ts                   # NextAuth 配置
│   ├── prisma.ts                 # 数据库客户端
│   └── utils.ts                  # 工具函数
├── prisma/                       # 数据库相关
│   ├── schema.prisma             # 数据库模型
│   └── migrations/               # 数据库迁移
├── public/                       # 静态资源
│   └── uploads/                  # 上传文件目录
└── types/                        # TypeScript 类型定义
```

## 🎯 核心功能说明

### 智能搭配算法

系统使用基于规则的推荐算法：

1. **颜色搭配规则**：预定义的颜色和谐组合
2. **场合匹配**：不同场合的着装规范
3. **季节适配**：根据季节筛选合适的衣物
4. **标签匹配**：基于用户定义的标签进行推荐
5. **个性化偏好**：结合用户的颜色偏好

### 数据库设计

- **User**：用户信息
- **Clothing**：衣物信息
- **Outfit**：搭配方案
- **OutfitItem**：搭配中的衣物项
- **OutfitLog**：穿搭记录

## 🔧 开发说明

### 本地开发
```bash
npm run dev          # 启动开发服务器
npm run build        # 构建生产版本
npm run start        # 启动生产服务器
```

### 数据库操作
```bash
npx prisma studio    # 打开数据库管理界面
npx prisma generate  # 生成Prisma客户端
npx prisma db push   # 同步数据库schema
npx prisma migrate   # 运行数据库迁移
```

## 🚧 待实现功能

- [ ] AI生成真人穿搭效果图
- [ ] 穿搭日历功能
- [ ] 社交分享功能
- [ ] 移动端APP
- [ ] 云存储集成
- [ ] 数据导出功能

## 📄 许可证

MIT License

## 🤝 贡献

欢迎提交Issue和Pull Request来改进这个项目！

## 📞 联系方式

如有问题或建议，请通过GitHub Issues联系我。